{"ast":null,"code":"/*\n * Copyright 2018 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { __assign, __decorate, __extends } from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { AbstractPureComponent2, Classes } from \"../../common\";\nimport * as Errors from \"../../common/errors\";\nimport { getPositionIgnoreAngles, isPositionHorizontal } from \"../../common/position\";\nimport { DISPLAYNAME_PREFIX } from \"../../common/props\";\nimport { Button } from \"../button/buttons\";\nimport { H4 } from \"../html/html\";\nimport { Icon } from \"../icon/icon\";\nimport { Overlay } from \"../overlay/overlay\";\n\nvar Drawer =\n/** @class */\nfunction (_super) {\n  __extends(Drawer, _super);\n\n  function Drawer() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Drawer.prototype.render = function () {\n    var _a, _b;\n\n    var _c = this.props,\n        size = _c.size,\n        style = _c.style,\n        position = _c.position,\n        vertical = _c.vertical;\n    var realPosition = position ? getPositionIgnoreAngles(position) : null;\n    var classes = classNames(Classes.DRAWER, (_a = {}, _a[Classes.VERTICAL] = !realPosition && vertical, _a[realPosition ? Classes.positionClass(realPosition) : \"\"] = true, _a), this.props.className);\n    var styleProp = size == null ? style : __assign(__assign({}, style), (_b = {}, _b[(realPosition ? isPositionHorizontal(realPosition) : vertical) ? \"height\" : \"width\"] = size, _b));\n    return React.createElement(Overlay, __assign({}, this.props, {\n      className: Classes.OVERLAY_CONTAINER\n    }), React.createElement(\"div\", {\n      className: classes,\n      style: styleProp\n    }, this.maybeRenderHeader(), this.props.children));\n  };\n\n  Drawer.prototype.validateProps = function (props) {\n    if (props.title == null) {\n      if (props.icon != null) {\n        console.warn(Errors.DIALOG_WARN_NO_HEADER_ICON);\n      }\n\n      if (props.isCloseButtonShown != null) {\n        console.warn(Errors.DIALOG_WARN_NO_HEADER_CLOSE_BUTTON);\n      }\n    }\n\n    if (props.position != null) {\n      if (props.vertical) {\n        console.warn(Errors.DRAWER_VERTICAL_IS_IGNORED);\n      }\n\n      if (props.position !== getPositionIgnoreAngles(props.position)) {\n        console.warn(Errors.DRAWER_ANGLE_POSITIONS_ARE_CASTED);\n      }\n    }\n  };\n\n  Drawer.prototype.maybeRenderCloseButton = function () {\n    // `isCloseButtonShown` can't be defaulted through default props because of props validation\n    // so this check actually defaults it to true (fails only if directly set to false)\n    if (this.props.isCloseButtonShown !== false) {\n      return React.createElement(Button, {\n        \"aria-label\": \"Close\",\n        className: Classes.DIALOG_CLOSE_BUTTON,\n        icon: React.createElement(Icon, {\n          icon: \"small-cross\",\n          iconSize: Icon.SIZE_LARGE\n        }),\n        minimal: true,\n        onClick: this.props.onClose\n      });\n    } else {\n      return null;\n    }\n  };\n\n  Drawer.prototype.maybeRenderHeader = function () {\n    var _a = this.props,\n        icon = _a.icon,\n        title = _a.title;\n\n    if (title == null) {\n      return null;\n    }\n\n    return React.createElement(\"div\", {\n      className: Classes.DRAWER_HEADER\n    }, React.createElement(Icon, {\n      icon: icon,\n      iconSize: Icon.SIZE_LARGE\n    }), React.createElement(H4, null, title), this.maybeRenderCloseButton());\n  };\n\n  Drawer.displayName = DISPLAYNAME_PREFIX + \".Drawer\";\n  Drawer.defaultProps = {\n    canOutsideClickClose: true,\n    isOpen: false,\n    position: null,\n    style: {},\n    vertical: false\n  };\n  Drawer.SIZE_SMALL = \"360px\";\n  Drawer.SIZE_STANDARD = \"50%\";\n  Drawer.SIZE_LARGE = \"90%\";\n  Drawer = __decorate([polyfill], Drawer);\n  return Drawer;\n}(AbstractPureComponent2);\n\nexport { Drawer };","map":{"version":3,"sources":["../../../../src/components/drawer/drawer.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/*\n * Copyright 2018 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { __assign, __decorate, __extends } from \"tslib\";\nimport classNames from \"classnames\";\nimport * as React from \"react\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { AbstractPureComponent2, Classes } from \"../../common\";\nimport * as Errors from \"../../common/errors\";\nimport { getPositionIgnoreAngles, isPositionHorizontal } from \"../../common/position\";\nimport { DISPLAYNAME_PREFIX } from \"../../common/props\";\nimport { Button } from \"../button/buttons\";\nimport { H4 } from \"../html/html\";\nimport { Icon } from \"../icon/icon\";\nimport { Overlay } from \"../overlay/overlay\";\nvar Drawer = /** @class */ (function (_super) {\n    __extends(Drawer, _super);\n    function Drawer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Drawer.prototype.render = function () {\n        var _a, _b;\n        var _c = this.props, size = _c.size, style = _c.style, position = _c.position, vertical = _c.vertical;\n        var realPosition = position ? getPositionIgnoreAngles(position) : null;\n        var classes = classNames(Classes.DRAWER, (_a = {},\n            _a[Classes.VERTICAL] = !realPosition && vertical,\n            _a[realPosition ? Classes.positionClass(realPosition) : \"\"] = true,\n            _a), this.props.className);\n        var styleProp = size == null\n            ? style\n            : __assign(__assign({}, style), (_b = {}, _b[(realPosition ? isPositionHorizontal(realPosition) : vertical) ? \"height\" : \"width\"] = size, _b));\n        return (React.createElement(Overlay, __assign({}, this.props, { className: Classes.OVERLAY_CONTAINER }),\n            React.createElement(\"div\", { className: classes, style: styleProp },\n                this.maybeRenderHeader(),\n                this.props.children)));\n    };\n    Drawer.prototype.validateProps = function (props) {\n        if (props.title == null) {\n            if (props.icon != null) {\n                console.warn(Errors.DIALOG_WARN_NO_HEADER_ICON);\n            }\n            if (props.isCloseButtonShown != null) {\n                console.warn(Errors.DIALOG_WARN_NO_HEADER_CLOSE_BUTTON);\n            }\n        }\n        if (props.position != null) {\n            if (props.vertical) {\n                console.warn(Errors.DRAWER_VERTICAL_IS_IGNORED);\n            }\n            if (props.position !== getPositionIgnoreAngles(props.position)) {\n                console.warn(Errors.DRAWER_ANGLE_POSITIONS_ARE_CASTED);\n            }\n        }\n    };\n    Drawer.prototype.maybeRenderCloseButton = function () {\n        // `isCloseButtonShown` can't be defaulted through default props because of props validation\n        // so this check actually defaults it to true (fails only if directly set to false)\n        if (this.props.isCloseButtonShown !== false) {\n            return (React.createElement(Button, { \"aria-label\": \"Close\", className: Classes.DIALOG_CLOSE_BUTTON, icon: React.createElement(Icon, { icon: \"small-cross\", iconSize: Icon.SIZE_LARGE }), minimal: true, onClick: this.props.onClose }));\n        }\n        else {\n            return null;\n        }\n    };\n    Drawer.prototype.maybeRenderHeader = function () {\n        var _a = this.props, icon = _a.icon, title = _a.title;\n        if (title == null) {\n            return null;\n        }\n        return (React.createElement(\"div\", { className: Classes.DRAWER_HEADER },\n            React.createElement(Icon, { icon: icon, iconSize: Icon.SIZE_LARGE }),\n            React.createElement(H4, null, title),\n            this.maybeRenderCloseButton()));\n    };\n    Drawer.displayName = DISPLAYNAME_PREFIX + \".Drawer\";\n    Drawer.defaultProps = {\n        canOutsideClickClose: true,\n        isOpen: false,\n        position: null,\n        style: {},\n        vertical: false,\n    };\n    Drawer.SIZE_SMALL = \"360px\";\n    Drawer.SIZE_STANDARD = \"50%\";\n    Drawer.SIZE_LARGE = \"90%\";\n    Drawer = __decorate([\n        polyfill\n    ], Drawer);\n    return Drawer;\n}(AbstractPureComponent2));\nexport { Drawer };\n//# sourceMappingURL=drawer.js.map"]},"metadata":{},"sourceType":"module"}